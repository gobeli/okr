<div>
  <section mat-dialog-title>
    <app-dialog-header
      [dialogTitle]="data.keyResult ? 'Key Result bearbeiten' : 'Key Result erfassen'"
    ></app-dialog-header>
  </section>

  <section mat-dialog-content>
    <div class="w-100 d-flex flex-column parent-container">
      <app-key-result-form [keyResultForm]="keyResultForm" [keyResult]="data.keyResult"></app-key-result-form>
    </div>
  </section>

  <section mat-dialog-actions>
    <div class="mt-3">
      <span>
        <button
          [attr.data-testId]="'submit'"
          type="submit"
          (click)="saveKeyResult()"
          [disabled]="keyResultForm.invalid || invalidOwner()"
          color="primary"
          mat-flat-button
        >
          Speichern
        </button>
        <button
          *ngIf="!data.keyResult"
          [attr.data-testId]="'saveAndNew'"
          (click)="openNew()"
          mat-stroked-button
          [disabled]="keyResultForm.invalid"
        >
          Speichern & Neu
        </button>
        <button mat-button mat-dialog-close color="primary" [attr.data-testId]="'cancel'">Abbrechen</button>
      </span>
      <button
        *ngIf="this.data.keyResult"
        [attr.data-testId]="'delete-keyResult'"
        mat-button
        color="primary"
        (click)="deleteKeyResult()"
      >
        Key Result l√∂schen
      </button>
    </div>
  </section>
</div>
