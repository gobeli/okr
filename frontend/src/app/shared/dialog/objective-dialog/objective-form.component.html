<div mat-dialog-content>
  <div class="w-100 d-flex justify-content-between align-items-center">
    <p class="title">Objective erfassen</p>
    <button data-test-id="closeDrawer" mat-dialog-close mat-icon-button>
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <form (ngSubmit)="onSubmit($event)" [formGroup]="objectiveForm" class="d-flex flex-column flex-wrap container p-0">
    <div class="d-flex flex-column gap-2 col-12">
      <label for="title" class="text-black">Titel</label>
      <mat-form-field appearance="outline">
        <textarea matInput formControlName="title" cdkFocusInitial id="title" placeholder="Objective Title"></textarea>
      </mat-form-field>
    </div>

    <div class="d-flex flex-column gap-2 col-12">
      <label for="title" class="text-black">Beschreibung (optional)</label>
      <mat-form-field appearance="outline">
        <textarea matInput formControlName="description" placeholder="Objective Beschreibung"></textarea>
      </mat-form-field>
    </div>

    <div class="row">
      <div class="d-flex flex-column gap-2 col-6">
        <label for="quarter" class="text-black">Quartal</label>
        <mat-form-field>
          <mat-select formControlName="quarter" id="quarter">
            <mat-option *ngFor="let quarter of quarters$ | async" [value]="quarter.id">
              {{ quarter.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="d-flex flex-column gap-2 col-6">
        <label for="relation" class="text-black">Bezug (optional)</label>
        <mat-form-field>
          <mat-select formControlName="relation" id="relation">
            <mat-option *ngFor="let team of teams$ | async" [value]="team.id">
              {{ team.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="d-flex flex-column gap-2 col-6">
        <label for="quarter" class="text-black">Team</label>
        <mat-form-field>
          <mat-select formControlName="team" id="team">
            <mat-option *ngFor="let team of teams$ | async" [value]="team.id">
              {{ team.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <mat-checkbox color="primary" class="d-flex align-items-center col-5" formControlName="createKeyresults">
        Key Results im Anschluss erfassen</mat-checkbox
      >
    </div>

    <div class="d-flex gap-2 p-0" mat-dialog-actions>
      <button mat-flat-button mat-dialog-close color="primary" submitType="ONGOING" [disabled]="objectiveForm.invalid">
        Speichern
      </button>
      <button
        mat-stroked-button
        mat-dialog-close
        color="dark"
        type="submit"
        submitType="DRAFT"
        [disabled]="objectiveForm.invalid"
      >
        Als Draft speichern
      </button>
      <button mat-button color="primary" mat-dialog-close>Abbrechen</button>
    </div>
  </form>
</div>
