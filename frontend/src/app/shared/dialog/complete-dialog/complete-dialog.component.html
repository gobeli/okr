<form class="p-4" [formGroup]="completeForm">
  <app-dialog-header [dialogTitle]="'Objective abschliessen'"></app-dialog-header>
  <div>Bewertung</div>
  <div class="d-flex gap-3 mb-3">
    <div
      class="successful w-50 valuation-card card-hover"
      [ngClass]="{
        active: completeForm.value.isSuccessful == true,
        'non-active': completeForm.value.isSuccessful === false
      }"
      (click)="switchSuccessState('successful')"
    >
      Objective erfolgreich
    </div>
    <div
      class="not-successful w-50 valuation-card card-hover"
      [ngClass]="{
        active: completeForm.value.isSuccessful === false,
        'non-active': completeForm.value.isSuccessful == true
      }"
      (click)="switchSuccessState('notSuccessful')"
    >
      Objective nicht erfolgreich
    </div>
  </div>

  <div>Kommentar (optional)</div>
  <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-100">
    <textarea class="commentary-field w-100" formControlName="comment" matInput></textarea>
  </mat-form-field>

  <br />
  <div class="d-flex justify-content-between" mat-dialog-actions>
    <div class="d-flex gap-2 p-0">
      <button
        [attr.data-testId]="'submit'"
        type="submit"
        (click)="closeDialog()"
        [disabled]="completeForm.invalid"
        color="primary"
        mat-flat-button
      >
        Objective abschliessen
      </button>
      <button color="primary" mat-button mat-dialog-close>Abbrechen</button>
    </div>
  </div>
</form>
